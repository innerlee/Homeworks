\section{Problem 4}~\label{sec:prob4}

\subsection{} % 4.1

\begin{equation}
\begin{split}
[[L_\bt f] * w](\bx)
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K (L_\bt f_k)(\by) w_k(\by-\bx)  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\by-\bt) w_k(\by-\bx)  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\by) w_k(\by-(\bx-\bt))  \\
    & = [ f * w](\bx-\bt) \\
    & = [L_\bt[ f * w]](\bx).
\end{split}
\end{equation}

\subsection{} % 4.2

\begin{equation}
\begin{split}
[[L_\bR f] * w](\bx)
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K (L_\bR f_k)(\by) w_k(\by-\bx)  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\bR^{-1} \by) w_k(\by-\bx)  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\by) w_k(\bR\by-\bx))  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\by) w_k(\bR(\by-\bR^{-1} \bx))  \\
    & = \sum_{\by\in \zz^2}\sum_{k=1}^K f_k(\by) [L_{\bR^{-1}} w_k](\by-\bR^{-1} \bx)  \\
    & = [ f *  [L_{\bR^{-1}} w]](\bR^{-1} \bx) \\
    & = [L_\bR[ f * [L_{\bR^{-1}} w]]](\bx).
\end{split}
\end{equation}

\subsection{} % 4.3

\begin{equation}
\begin{split}
[[L_\bu f] * w](\bg)
    & = \sum_{\bh\in G}\sum_{k=1}^K [L_\bu f_k](\bh) w_k(\bg^{-1} \bh)  \\
    & = \sum_{\bh\in G}\sum_{k=1}^K f_k(\bu^{-1}\bh) w_k(\bg^{-1} \bh)  \\
    & = \sum_{\bh\in G}\sum_{k=1}^K f_k(\bh) w_k(\bg^{-1} \bu \bh)  \\
    & = \sum_{\bh\in G}\sum_{k=1}^K f_k(\bh) w_k((\bu^{-1}\bg)^{-1} \bh)  \\
    & = (f * w) (\bu^{-1} \bg) \\
    & = [L_\bu[ f * w]](\bg).
\end{split}
\end{equation}

View the feature map as four-fold images with rotation
$0^{\circ}, 90^{\circ}, 180^{\circ}$ and  $270^{\circ}$.
For rotation $d^{\circ}$, $d\in \{0,90,180,270\}$,
it is obtained by the following procedure:
first rotate the original feature map by
$0^{\circ}, 90^{\circ}, 180^{\circ}$ and  $270^{\circ}$,
and rotate the filter by  $d^{\circ}$.
Then apply the rotated filter on the four rotated feature maps.
Finally sum the four results together.
